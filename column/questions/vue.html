<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>gbm666</title>
    <meta name="description" content="2024年10月21日16:23:37">
    <meta name="generator" content="VitePress v1.4.1">
    <link rel="preload stylesheet" href="/vitepress-notice/assets/style.BYgKHjSp.css" as="style">
    
    <script type="module" src="/vitepress-notice/assets/app.Deht3JsQ.js"></script>
    <link rel="preload" href="/vitepress-notice/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/vitepress-notice/assets/chunks/theme.Dv_rpMq_.js">
    <link rel="modulepreload" href="/vitepress-notice/assets/chunks/framework.DqyS5ajJ.js">
    <link rel="modulepreload" href="/vitepress-notice/assets/column_questions_vue.md.D3sVEpjt.lean.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css">
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
    <script>window._hmt=window._hmt||[],function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?abcdefgeggsdfsdf123123";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-ab179fa1><a class="title" href="/vitepress-notice/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>gbm666</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepress-notice/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>javascript</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/vitepress-notice/column/javascript/base/index.html" data-v-35975db6><!--[--><span data-v-35975db6>入门</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/vitepress-notice/column/Growing/" data-v-35975db6><!--[--><span data-v-35975db6>进阶</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Vue</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/vitepress-notice/column/vue/gdMap/" data-v-35975db6><!--[--><span data-v-35975db6>高德地图</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>微信小程序</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/vitepress-notice/column/Travel/" data-v-35975db6><!--[--><span data-v-35975db6>基础</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>关于我</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link vp-external-link-icon" href="https://blog.csdn.net/qq_51055690?type=blog" target="_blank" rel="noreferrer" data-v-35975db6><!--[--><span data-v-35975db6>CSDN</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link vp-external-link-icon" href="https://github.com/gbm2001" target="_blank" rel="noreferrer" data-v-35975db6><!--[--><span data-v-35975db6>Github</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link vp-external-link-icon" href="https://gitee.com/guo-bomin" target="_blank" rel="noreferrer" data-v-35975db6><!--[--><span data-v-35975db6>gitee</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>基础</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/vitepress-notice/column/questions/html5.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>html5</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/vitepress-notice/column/questions/css3.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>css3</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/vitepress-notice/column/questions/js.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>js</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/vitepress-notice/column/questions/js%E7%AE%97%E6%B3%95.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>js算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/vitepress-notice/column/questions/vue.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>vue</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>目录</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _vitepress-notice_column_questions_vue" data-v-39a288b8><div><h2 id="vue面试题" tabindex="-1">Vue面试题 <a class="header-anchor" href="#vue面试题" aria-label="Permalink to &quot;Vue面试题&quot;">​</a></h2><h3 id="_1、vue-有了数据响应式-为何还要-diff" tabindex="-1">1、Vue 有了数据响应式，为何还要 diff ？ <a class="header-anchor" href="#_1、vue-有了数据响应式-为何还要-diff" aria-label="Permalink to &quot;1、Vue 有了数据响应式，为何还要 diff ？&quot;">​</a></h3><blockquote><p>Vue 中的数据响应式和虚拟 DOM 的 diff 算法是两个不同的概念，它们分别解决了不同的问题，相互协作以提高页面渲染的效率和性能。</p></blockquote><p><strong>数据响应式</strong></p><p>Vue 的数据响应式系统通过 <code>Object.defineProperty</code> 或者 ES6 的 <code>Proxy</code> 来实现，主要解决了以下问题：</p><ol><li><strong>数据绑定</strong>：保证了视图与数据的同步更新，当数据发生变化时，视图会自动更新，避免了手动操作 DOM 的繁琐和易出错性。</li><li><strong>依赖追踪</strong>：Vue 能够追踪每个数据的依赖关系，即哪些组件或者计算属性依赖于某个数据。当数据变化时，自动更新依赖的组件或者计算属性。</li></ol><p><strong>虚拟 DOM 和 Diff 算法</strong></p><blockquote><p>虚拟 DOM 是一种内存中的表示结构，它是对真实 DOM 的抽象。Diff 算法是一种高效更新 DOM 的策略，它通过比较新旧虚拟 DOM 树的差异，最小化了更新操作，提高了页面的渲染效率。</p></blockquote><h4 id="为什么还需要-diff-算法" tabindex="-1">为什么还需要 Diff 算法？ <a class="header-anchor" href="#为什么还需要-diff-算法" aria-label="Permalink to &quot;为什么还需要 Diff 算法？&quot;">​</a></h4><ol><li><strong>性能优化</strong>：直接操作真实 DOM 是非常昂贵的，而虚拟 DOM 可以在内存中快速进行比较和计算差异。Diff 算法帮助减少了更新操作的次数和范围，从而提升了页面渲染的性能。</li><li><strong>批量更新</strong>：Diff 算法能够将多次 DOM 更新操作合并为一次，避免了频繁的 DOM 操作，减少了浏览器的重排和重绘。</li><li><strong>跨平台兼容</strong>：虚拟 DOM 和 Diff 算法使得 Vue 可以运行在不同的平台上，例如浏览器、Weex 等，统一了渲染逻辑和数据响应式的实现。</li><li><strong>更新效率</strong>：即使是响应式系统可以自动更新视图，但是如果每次数据变化都直接操作真实 DOM，可能会带来性能问题。Diff 算法可以智能地比较新旧 DOM 树的变化，只更新必要的部分，从而提高了更新效率。</li></ol><h3 id="_2-vue3-为什么要引入-composition-api" tabindex="-1">2：vue3 为什么要引入 Composition API ？ <a class="header-anchor" href="#_2-vue3-为什么要引入-composition-api" aria-label="Permalink to &quot;2：vue3 为什么要引入 Composition API ？&quot;">​</a></h3><h4 id="_1-更好的代码组织和重用" tabindex="-1">1. 更好的代码组织和重用 <a class="header-anchor" href="#_1-更好的代码组织和重用" aria-label="Permalink to &quot;1. 更好的代码组织和重用&quot;">​</a></h4><p>在 Vue 2 中，使用选项式 API（Options API）来定义组件的逻辑，通常将数据、方法、计算属性和生命周期钩子分开写在不同的配置对象中。当组件变得复杂时，不同功能的代码可能会散落在各个部分，难以维护和重用。</p><h4 id="_2-更好的逻辑复用" tabindex="-1">2. 更好的逻辑复用 <a class="header-anchor" href="#_2-更好的逻辑复用" aria-label="Permalink to &quot;2. 更好的逻辑复用&quot;">​</a></h4><p>在 Vue 2 中，逻辑复用主要通过 mixins 和 scoped slots 实现，但它们都有一些缺点，比如命名冲突和代码可读性差。</p><p>Composition API 通过组合函数（composable functions）来实现逻辑复用，这些函数可以在多个组件之间共享和复用逻辑，避免了 mixins 的缺点。</p><h4 id="_3-更好的-typescript-支持" tabindex="-1">3. 更好的 TypeScript 支持 <a class="header-anchor" href="#_3-更好的-typescript-支持" aria-label="Permalink to &quot;3. 更好的 TypeScript 支持&quot;">​</a></h4><p>Composition API 天然地支持 TypeScript，使得类型推断和类型检查更为自然和方便。相比于 Options API，通过 Composition API 定义的逻辑更容易进行类型声明和类型推断，提升了开发体验。</p><h4 id="_4-适应函数式编程趋势" tabindex="-1">4. 适应函数式编程趋势 <a class="header-anchor" href="#_4-适应函数式编程趋势" aria-label="Permalink to &quot;4. 适应函数式编程趋势&quot;">​</a></h4><p>Composition API 借鉴了函数式编程的思想，将逻辑封装成函数，使得代码更加简洁、模块化、可测试，同时也更符合现代 JavaScript 开发趋势。</p><h4 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h4><p>Vue 3 引入 Composition API 主要是为了提升代码组织和复用性、提供更好的 TypeScript 支持、适应函数式编程趋势，并且解决 Vue 2 中存在的一些问题。通过 Composition API，可以让组件逻辑更加清晰、灵活和易于维护。</p><h3 id="_3、-vue-事件机制-并手写-on、-off、-emit、-once" tabindex="-1">3、 Vue 事件机制，并手写$on、$off、$emit、$once <a class="header-anchor" href="#_3、-vue-事件机制-并手写-on、-off、-emit、-once" aria-label="Permalink to &quot;3、 Vue 事件机制，并手写$on、$off、$emit、$once&quot;">​</a></h3><blockquote><p>Vue 的事件机制允许组件之间进行通信，通过 <code>$on</code>、<code>$off</code>、<code>$emit</code> 和 <code>$once</code> 等方法进行事件的订阅、取消订阅、触发和一次性订阅。我们可以通过手写这些方法来理解其工作原理。</p></blockquote><h4 id="vue-事件机制" tabindex="-1">Vue 事件机制 <a class="header-anchor" href="#vue-事件机制" aria-label="Permalink to &quot;Vue 事件机制&quot;">​</a></h4><ol><li><strong><code>$on(event, callback)</code></strong>：监听特定事件。</li><li><strong><code>$off(event, callback)</code></strong>：停止监听特定事件。</li><li><strong><code>$emit(event, ...args)</code></strong>：触发特定事件。</li><li><strong><code>$once(event, callback)</code></strong>：只监听一次特定事件。</li></ol><h4 id="解释" tabindex="-1">解释 <a class="header-anchor" href="#解释" aria-label="Permalink to &quot;解释&quot;">​</a></h4><ol><li><strong><code>$on</code></strong>：将事件和回调函数添加到 <code>events</code> 对象中。</li><li><strong><code>$off</code></strong>：如果没有传递回调函数，则移除所有监听。如果传递了回调函数，则只移除特定的回调。</li><li><strong><code>$emit</code></strong>：触发事件，调用所有注册的回调函数并传递参数。</li><li><strong><code>$once</code></strong>：使用一个包装函数 (<code>wrapper</code>) 包装原始回调函数，确保回调只执行一次，然后移除事件监听。</li></ol><h3 id="_4、computed-计算值为什么还可以依赖另外一个-computed-计算值" tabindex="-1">4、computed 计算值为什么还可以依赖另外一个 computed 计算值？ <a class="header-anchor" href="#_4、computed-计算值为什么还可以依赖另外一个-computed-计算值" aria-label="Permalink to &quot;4、computed 计算值为什么还可以依赖另外一个 computed 计算值？&quot;">​</a></h3><blockquote><p>在 Vue 中，<code>computed</code> 计算属性可以依赖其他 <code>computed</code> 计算属性，因为 Vue 的响应式系统能够正确地追踪依赖关系。</p></blockquote><h4 id="computed-计算属性的实现" tabindex="-1"><code>computed</code> 计算属性的实现 <a class="header-anchor" href="#computed-计算属性的实现" aria-label="Permalink to &quot;`computed` 计算属性的实现&quot;">​</a></h4><p><code>computed</code> 计算属性本质上是具有缓存功能的特殊方法。它们只有在其依赖的响应式属性发生变化时才会重新计算，否则返回缓存的值。</p><h3 id="_5、说一下-vm-set-原理" tabindex="-1">5、说一下 vm.$set 原理 <a class="header-anchor" href="#_5、说一下-vm-set-原理" aria-label="Permalink to &quot;5、说一下 vm.$set 原理&quot;">​</a></h3><p><code>vm.$set</code> 是 Vue 中用于在对象上设置属性并确保新属性是响应式的方法。其实现原理可以简化为以下几个步骤：</p><ol><li><strong>处理数组情况</strong>： 如果目标是数组，并且键是有效的数组索引，使用 <code>splice</code> 方法添加新元素以保持响应性。</li><li><strong>处理已有属性</strong>： 如果属性已经存在于对象中，直接赋值。</li><li><strong>处理新属性</strong>： 如果目标对象不是响应式对象，直接赋值新属性。</li><li><strong>添加响应式新属性</strong>： 如果目标对象是响应式的，通过 <code>defineReactive</code> 方法将新属性定义为响应式。这包括定义 getter 和 setter。</li><li><strong>通知依赖更新</strong>： 调用 <code>ob.dep.notify()</code> 通知所有依赖于该对象的 watchers 执行更新。</li></ol><h3 id="_6、怎么在-vue-中定义全局方法" tabindex="-1">6、怎么在 Vue 中定义全局方法？ <a class="header-anchor" href="#_6、怎么在-vue-中定义全局方法" aria-label="Permalink to &quot;6、怎么在 Vue 中定义全局方法？&quot;">​</a></h3><blockquote><p>在 Vue.js 中定义全局方法，可以通过多种方式实现，包括直接在 Vue 的原型对象上添加方法、使用 Vue 3 的全局 API (<code>app.config.globalProperties</code>)、以及通过混入 (mixin) 等方法。</p></blockquote><h4 id="方法一-在-vue-2-中通过-vue-prototype-定义全局方法" tabindex="-1">方法一：在 Vue 2 中通过 Vue.prototype 定义全局方法 <a class="header-anchor" href="#方法一-在-vue-2-中通过-vue-prototype-定义全局方法" aria-label="Permalink to &quot;方法一：在 Vue 2 中通过 Vue.prototype 定义全局方法&quot;">​</a></h4><h4 id="方法二-在-vue-3-中通过-app-config-globalproperties-定义全局方法" tabindex="-1">方法二：在 Vue 3 中通过 <code>app.config.globalProperties</code> 定义全局方法 <a class="header-anchor" href="#方法二-在-vue-3-中通过-app-config-globalproperties-定义全局方法" aria-label="Permalink to &quot;方法二：在 Vue 3 中通过 `app.config.globalProperties` 定义全局方法&quot;">​</a></h4><h4 id="方法三-使用混入-mixin" tabindex="-1">方法三：使用混入（Mixin） <a class="header-anchor" href="#方法三-使用混入-mixin" aria-label="Permalink to &quot;方法三：使用混入（Mixin）&quot;">​</a></h4><h3 id="_7、什么是vite" tabindex="-1">7、什么是Vite？ <a class="header-anchor" href="#_7、什么是vite" aria-label="Permalink to &quot;7、什么是Vite？&quot;">​</a></h3><p><strong>基于esbuild与Rollup，依靠浏览器自身ESM编译功能， 实现极致开发体验的新一代构建工具！</strong></p><p><code>Webpack</code>通过先将整个应用打包，再将打包后代码提供给<code>dev server</code>，开发者才能开始开发。</p><p><code>Vite</code>直接将源码交给浏览器，实现<code>dev server</code>秒开，浏览器显示页面需要相关模块时，再向<code>dev server</code>发起请求，服务器简单处理后，将该模块返回给浏览器，实现真正意义的按需加载。</p><h3 id="_8、vue2-0为什么不能检查数组的变化-该怎么解决" tabindex="-1">8、Vue2.0为什么不能检查数组的变化，该怎么解决？ <a class="header-anchor" href="#_8、vue2-0为什么不能检查数组的变化-该怎么解决" aria-label="Permalink to &quot;8、Vue2.0为什么不能检查数组的变化，该怎么解决？&quot;">​</a></h3><ul><li>无法检测数组/对象的新增</li><li>无法检测通过索引改变数组的操作。</li></ul><p>Vue检测数据的变动是通过Object.defineProperty实现的，所以无法监听数组的添加操作是可以理解的，因为是在构造函数中就已经为所有属性做了这个检测绑定操作。</p><ul><li>无法检测通过索引改变数组的操作。即vm.items[indexOfItem] = newValue？</li></ul><p><a href="https://cn.vuejs.org/v2/guide/list.html#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" target="_blank" rel="noreferrer">官方文档</a>中对于这两点都是简要的概括为“由于JavaScript的限制”无法实现，而Object.defineProperty是实现检测数据改变的方案，这个限制是指Object.defineProperty</p><h4 id="思考" tabindex="-1">思考 <a class="header-anchor" href="#思考" aria-label="Permalink to &quot;思考&quot;">​</a></h4><p><strong>vm.items[indexOfItem] = newValue真的不能被监听么？</strong></p><blockquote><p>Vue对数组的7个变异方法（push、pop、shift、unshift、splice、sort、reverse）实现了响应式。这里就不做测试了。我们测试一下通过索引改变数组的操作，能不能被监听到。</p><p>遍历数组，用Object.defineProperty对每一项进行监测</p></blockquote><p><strong>数组</strong></p><p>this.$set(array, index, data)</p><p><strong>对象</strong></p><ol><li>this.$set(obj, key ,value) - 可实现增、改</li><li>watch时添加<code>deep：true</code>深度监听，只能监听到属性值的变化，新增、删除属性无法监听</li></ol><h3 id="_9、vue-3-0中treeshaking特性是什么-并举例进行说明" tabindex="-1">9、Vue 3.0中Treeshaking特性是什么，并举例进行说明？ <a class="header-anchor" href="#_9、vue-3-0中treeshaking特性是什么-并举例进行说明" aria-label="Permalink to &quot;9、Vue 3.0中Treeshaking特性是什么，并举例进行说明？&quot;">​</a></h3><blockquote><p>Tree shaking<code>是一种通过清除多余代码方式来优化项目打包体积的技术，专业术语叫</code>Dead code elimination</p></blockquote><h3 id="_10、vue3-0-性能提升主要是通过哪几方面体现的" tabindex="-1">10、Vue3.0 性能提升主要是通过哪几方面体现的？ <a class="header-anchor" href="#_10、vue3-0-性能提升主要是通过哪几方面体现的" aria-label="Permalink to &quot;10、Vue3.0 性能提升主要是通过哪几方面体现的？&quot;">​</a></h3><p>可以看到，组件内部只有一个动态节点，剩余一堆都是静态节点，所以这里很多 <code>diff</code> 和遍历其实都是不需要的，造成性能浪费</p><p>因此，<code>Vue3</code>在编译阶段，做了进一步优化。主要有如下：</p><ul><li>diff算法优化</li><li>静态提升</li><li>事件监听缓存</li><li>SSR优化</li></ul><h4 id="diff算法优化" tabindex="-1">diff算法优化 <a class="header-anchor" href="#diff算法优化" aria-label="Permalink to &quot;diff算法优化&quot;">​</a></h4><p><code>vue3</code>在<code>diff</code>算法中相比<code>vue2</code>增加了静态标记</p><p>关于这个静态标记，其作用是为了会发生变化的地方添加一个<code>flag</code>标记，下次发生变化的时候直接找该地方进行比较</p><p>下图这里，已经标记静态节点的<code>p</code>标签在<code>diff</code>过程中则不会比较，把性能进一步提高</p><h4 id="静态提升" tabindex="-1">静态提升 <a class="header-anchor" href="#静态提升" aria-label="Permalink to &quot;静态提升&quot;">​</a></h4><p><code>Vue3</code>中对不参与更新的元素，会做静态提升，只会被创建一次，在渲染时直接复用</p><p>这样就免去了重复的创建节点，大型应用会受益于这个改动，免去了重复的创建操作，优化了运行时候的内存占用</p><h4 id="事件监听缓存" tabindex="-1">事件监听缓存 <a class="header-anchor" href="#事件监听缓存" aria-label="Permalink to &quot;事件监听缓存&quot;">​</a></h4><p>默认情况下绑定事件行为会被视为动态绑定，所以每次都会去追踪它的变化</p><h4 id="ssr优化" tabindex="-1">SSR优化 <a class="header-anchor" href="#ssr优化" aria-label="Permalink to &quot;SSR优化&quot;">​</a></h4><p>当静态内容大到一定量级时候，会用<code>createStaticVNode</code>方法在客户端去生成一个static node，这些静态<code>node</code>，会被直接<code>innerHtml</code>，就不需要创建对象，然后根据对象渲染</p><h4 id="源码体积" tabindex="-1">源码体积 <a class="header-anchor" href="#源码体积" aria-label="Permalink to &quot;源码体积&quot;">​</a></h4><p>相比<code>Vue2</code>，<code>Vue3</code>整体体积变小了，除了移出一些不常用的API，再重要的是<code>Tree shanking</code></p><p>任何一个函数，如<code>ref</code>、<code>reavtived</code>、<code>computed</code>等，仅仅在用到的时候才打包，没用到的模块都被摇掉，打包的整体体积变小</p><h4 id="响应式系统" tabindex="-1">响应式系统 <a class="header-anchor" href="#响应式系统" aria-label="Permalink to &quot;响应式系统&quot;">​</a></h4><p><code>vue2</code>中采用 <code>defineProperty</code>来劫持整个对象，然后进行深度遍历所有属性，给每个属性添加<code>getter</code>和<code>setter</code>，实现响应式</p><p><code>vue3</code>采用<code>proxy</code>重写了响应式系统，因为<code>proxy</code>可以对整个对象进行监听，所以不需要深度遍历</p><ul><li>可以监听动态属性的添加</li><li>可以监听到数组的索引和数组<code>length</code>属性</li><li>可以监听删除属性</li></ul><h3 id="_11、vue3-0的设计目标是什么-做了哪些优化" tabindex="-1">11、Vue3.0的设计目标是什么？做了哪些优化? <a class="header-anchor" href="#_11、vue3-0的设计目标是什么-做了哪些优化" aria-label="Permalink to &quot;11、Vue3.0的设计目标是什么？做了哪些优化?&quot;">​</a></h3></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/vitepress-notice/column/questions/js%E7%AE%97%E6%B3%95.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>js算法</span><!--]--></a></div><div class="pager" data-v-e257564d><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2019-2024 GBM666</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"Swn2ay3I\",\"column_javascript_base_01.md\":\"BxO303Ls\",\"column_javascript_base_02.md\":\"DH7MrbOg\",\"column_javascript_base_index.md\":\"DKNrNJCE\",\"column_questions_css3.md\":\"Chb0Uk8B\",\"column_questions_html5.md\":\"DtoowOg0\",\"column_questions_index.md\":\"Cf23OKc6\",\"column_questions_js.md\":\"et7cervz\",\"column_questions_js基础.md\":\"Poaiu3RB\",\"column_questions_js算法.md\":\"DGj2Q2FE\",\"column_questions_vue.md\":\"D3sVEpjt\",\"column_questions_面经.md\":\"D8QSvFgH\",\"column_views_project_index.md\":\"Bby1kQGa\",\"column_views_project_乡村振兴.md\":\"q_KO9FJ2\",\"column_views_project_吊车秘书.md\":\"LUJCbgVt\",\"column_views_project_在星沙.md\":\"BjsYymTD\",\"column_views_project_城建档案查询系统.md\":\"Cp7atOqj\",\"column_views_project_湘易办.md\":\"BI_Ix_Wr\",\"column_views_project_考核考评路长制.md\":\"Cr1Mqa4j\",\"column_views_project_长沙县党员网.md\":\"R5Pt9GI1\",\"column_views_vite_01-初始化项目.md\":\"D4txIq0q\",\"column_views_vite_02-项目结构.md\":\"Bei4-HOs\",\"column_views_vite_03-代码格式化prettier.md\":\"lfZiHuFP\",\"column_views_vite_04-eslint规范.md\":\"BVb9rav5\",\"column_views_vite_05-去除ref的value.md\":\"aN9gC6bI\",\"column_views_vite_06-vite.config.js的配置项.md\":\"Drt6zKhO\",\"column_views_vite_07-sass样式预渲染器.md\":\"rECvamya\",\"column_views_vite_08-vuerouter路由集成.md\":\"Bu1njdmi\",\"column_views_vite_09-mixin混入.md\":\"GM9KQs6N\",\"column_views_vite_10-filters全局过滤器.md\":\"DzZh7xqs\",\"column_views_vite_11-element plus集成.md\":\"DUjMUxYJ\",\"column_views_vite_12-pinia缓存集成.md\":\"D3wm1YLH\",\"column_views_vite_13-axios和api封装.md\":\"DkAdmt7Q\",\"column_views_vite_14-全局引入components组件.md\":\"BsyZ1LCb\",\"column_views_vite_15-设置vscode的常用代码块.md\":\"CF_evzwf\",\"column_views_vite_index.md\":\"B9gyyhkP\",\"column_vue_gdmap_01-简易实现页面展示.md\":\"V-JFXGy4\",\"column_vue_gdmap_02-添加地图控件.md\":\"p9YrzuAX\",\"column_vue_gdmap_03-添加点标记.md\":\"CJxvMRBq\",\"column_vue_gdmap_04-添加信息窗体.md\":\"BBAwcN7I\",\"column_vue_gdmap_05-循环点标记并点击弹出窗体.md\":\"Dk9vdyib\",\"column_vue_gdmap_06-折线.md\":\"D_oyn4qL\",\"column_vue_gdmap_07-圆形绘制.md\":\"Dr35ILj6\",\"column_vue_gdmap_index.md\":\"Cv4ckX8d\",\"index.md\":\"BGsY8OZx\",\"markdown-examples.md\":\"BbV025QT\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"gbm666\",\"description\":\"2024年10月21日16:23:37\",\"base\":\"/vitepress-notice/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"javascript\",\"items\":[{\"text\":\"入门\",\"link\":\"/column/javascript/base/index.md\"},{\"text\":\"进阶\",\"link\":\"/column/Growing/\"}]},{\"text\":\"Vue\",\"items\":[{\"text\":\"高德地图\",\"link\":\"/column/vue/gdMap/\"}]},{\"text\":\"微信小程序\",\"items\":[{\"text\":\"基础\",\"link\":\"/column/Travel/\"}]},{\"text\":\"关于我\",\"items\":[{\"text\":\"CSDN\",\"link\":\"https://blog.csdn.net/qq_51055690?type=blog\"},{\"text\":\"Github\",\"link\":\"https://github.com/gbm2001\"},{\"text\":\"gitee\",\"link\":\"https://gitee.com/guo-bomin\"}]}],\"sidebar\":{\"/column/views/vite/\":[{\"text\":\"简介\",\"link\":\"/column/views/vite/\"},{\"text\":\"01-初始化项目\",\"link\":\"/column/views/vite/01-初始化项目\"},{\"text\":\"02-项目结构\",\"link\":\"/column/views/vite/02-项目结构\"},{\"text\":\"03-代码格式化prettier\",\"link\":\"/column/views/vite/03-代码格式化prettier\"},{\"text\":\"04-eslint规范\",\"link\":\"/column/views/vite/04-eslint规范\"},{\"text\":\"05-去除ref的value\",\"link\":\"/column/views/vite/05-去除ref的value\"},{\"text\":\"06-vite.config.js的配置项\",\"link\":\"/column/views/vite/06-vite.config.js的配置项\"},{\"text\":\"07-sass样式预渲染器\",\"link\":\"/column/views/vite/07-sass样式预渲染器\"},{\"text\":\"08-VueRouter路由集成\",\"link\":\"/column/views/vite/08-VueRouter路由集成\"},{\"text\":\"09-mixin混入\",\"link\":\"/column/views/vite/09-mixin混入\"},{\"text\":\"10-filters全局过滤器\",\"link\":\"/column/views/vite/10-filters全局过滤器\"},{\"text\":\"11-Element Plus集成\",\"link\":\"/column/views/vite/11-Element Plus集成\"},{\"text\":\"12-pinia缓存集成\",\"link\":\"/column/views/vite/12-pinia缓存集成\"},{\"text\":\"13-axios和api封装\",\"link\":\"/column/views/vite/13-axios和api封装\"},{\"text\":\"14-全局引入components组件\",\"link\":\"/column/views/vite/14-全局引入components组件\"},{\"text\":\"15-设置vscode的常用代码块\",\"link\":\"/column/views/vite/15-设置vscode的常用代码块\"},{\"text\":\"扩展\",\"items\":[{\"text\":\"16-高德地图\",\"link\":\"/column/vue/gdMap/\"}]}],\"/column/javascript/base/\":[{\"text\":\"基础语法\",\"items\":[{\"text\":\"简介\",\"link\":\"/column/javascript/base/\"},{\"text\":\"基础1\",\"link\":\"/column/javascript/base/01\"}]}],\"/column/vue/gdMap/\":[{\"text\":\"高德地图-入门\",\"items\":[{\"text\":\"准备工作\",\"link\":\"/column/vue/gdMap/\"},{\"text\":\"01-简易实现页面展示\",\"link\":\"/column/vue/gdMap/01-简易实现页面展示.md\"},{\"text\":\"02-添加地图控件\",\"link\":\"/column/vue/gdMap/02-添加地图控件.md\"},{\"text\":\"03-添加点标记\",\"link\":\"/column/vue/gdMap/03-添加点标记.md\"}]},{\"text\":\"高德地图-进阶\",\"items\":[{\"text\":\"04-添加信息窗体\",\"link\":\"/column/vue/gdMap/04-添加信息窗体.md\"},{\"text\":\"05-循环点标记并点击弹出窗体\",\"link\":\"/column/vue/gdMap/05-循环点标记并点击弹出窗体.md\"},{\"text\":\"06-折线\",\"link\":\"/column/vue/gdMap/06-折线.md\"},{\"text\":\"07-圆形绘制\",\"link\":\"/column/vue/gdMap/07-圆形绘制.md\"}]}],\"/column/views/project/\":[{\"text\":\"简介\",\"link\":\"/column/views/project/\"},{\"text\":\"移动端\",\"items\":[{\"text\":\"湘易办\",\"link\":\"/column/views/project/湘易办.md\"},{\"text\":\"在星沙\",\"link\":\"/column/views/project/在星沙.md\"}]},{\"text\":\"pc端\",\"items\":[{\"text\":\"乡村振兴\",\"link\":\"/column/views/project/乡村振兴.md\"},{\"text\":\"长沙县党员网\",\"link\":\"/column/views/project/长沙县党员网.md\"},{\"text\":\"城建档案查询系统\",\"link\":\"/column/views/project/城建档案查询系统.md\"}]},{\"text\":\"uniapp\",\"items\":[{\"text\":\"考核考评路长制\",\"link\":\"/column/views/project/考核考评路长制.md\"}]},{\"text\":\"微信原生小程序\",\"items\":[{\"text\":\"吊车秘书\",\"link\":\"/column/views/project/吊车秘书.md\"}]}],\"/column/questions/\":[{\"text\":\"基础\",\"items\":[{\"text\":\"html5\",\"link\":\"/column/questions/html5.md\"},{\"text\":\"css3\",\"link\":\"/column/questions/css3.md\"},{\"text\":\"js\",\"link\":\"/column/questions/js.md\"},{\"text\":\"js算法\",\"link\":\"/column/questions/js算法.md\"},{\"text\":\"vue\",\"link\":\"/column/questions/vue.md\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}],\"outline\":{\"level\":[2,6],\"label\":\"目录\"},\"search\":{\"provider\":\"local\"},\"i18nRouting\":true,\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2019-2024 GBM666\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>